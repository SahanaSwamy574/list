<!DOCTYPE html>
 <html lang="en">
 <head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <title>json search</title>
</head>
<body>
		<p>No of times event fired</p>
		<p  id='show-api-call-count'></p>

		<p>No of times debounce executed the method</p>
		<p  id="debounce-count"></p>
  <div class="container" style="padding:50px 250px;">
    <h1>Live Search</h1>
	<form role="form">
        <div class="form-group">
          <input type="input" class="form-control input-lg" id="search-box" placeholder="Type your search character">
        </div>
	</form>
	<div id="filter-records"></div>
  </div>
</body>
</html>
<script type="text/javascript">

var  timerId;
var  searchBoxDom  =  document.getElementById('search-box');

function  makeAPICall() {
	var  debounceDom  =  document.getElementById('debounce-count');
	var  debounceCount  =  debounceDom.innerHTML  ||  0;
	
	debounceDom.innerHTML  =  parseInt(debounceCount) +  1
}


var  debounceFunction  =  function (func, delay) {
	
	clearTimeout(timerId)


	timerId  =  setTimeout(func, delay)
}


searchBoxDom.addEventListener('input', function () {
	var  apiCallCountDom  =  document.getElementById('show-api-call-count');
	var  apiCallCount  =  apiCallCountDom.innerHTML  ||  0;
	apiCallCount  =  parseInt(apiCallCount) +  1;


	apiCallCountDom.innerHTML  =  apiCallCount;


	debounceFunction(makeAPICall, 200)
})

  $(document).ready(function(){
    var data = [
{"id":"1","employee_name":"Tiger Nixon","employee_salary":"320800","employee_age":"61"},{"id":"2","employee_name":"Garrett Winters","employee_salary":"434343","employee_age":"63"},{"id":"3","employee_name":"Ashton Cox","employee_salary":"86000","employee_age":"66"},{"id":"4","employee_name":"Cedric Kelly","employee_salary":"433060","employee_age":"22"},{"id":"5","employee_name":"Airi Satou","employee_salary":"162700","employee_age":"33"},{"id":"6","employee_name":"Brielle Williamson","employee_salary":"372000","employee_age":"61"},{"id":"7","employee_name":"Herrod Chandler","employee_salary":"137500","employee_age":"59"},{"id":"8","employee_name":"Rhona Davidson","employee_salary":"327900","employee_age":"55"},{"id":"9","employee_name":"Colleen Hurst","employee_salary":"205500","employee_age":"39"},{"id":"10","employee_name":"Sonya Frost","employee_salary":"103600","employee_age":"23"}];

$('#search-box').keyup(function(){
            var searchField = $(this).val();
			if(searchField === '')  {
				$('#filter-records').html('');
				return;
			}
			
            var regex = new RegExp(searchField, "i");
            var output = '<div class="row">';
            var count = 1;
			  $.each(data, function(key, val){
				if ((val.employee_salary.search(regex) != -1) || (val.employee_name.search(regex) != -1)) {
				  output += '<div class="col-md-6 well">';
				  output += '<div class="col-md-7">';
				  output += '<h5>' + val.employee_name + '</h5>';
				  output += '<p>' + val.employee_salary + '</p>'

				  output += '</div>';
				  if(count%2 == 0){
					output += '</div><div class="row">'
				  }
				  count++;
				}
			  });
			  output += '</div>';
			  $('#filter-records').html(output);
        });
  });
</script>